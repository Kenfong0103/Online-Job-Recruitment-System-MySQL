CREATE DATABASE JOB;

USE JOB;

CREATE TABLE COMPANY
(
COMPANY_ID VARCHAR(10) NOT NULL PRIMARY KEY,
COMPANY_NAME VARCHAR(30),
COMPANY_ADDRESS VARCHAR(100)
);

CREATE TABLE JOB
(
JOB_ID VARCHAR(10) NOT NULL PRIMARY KEY,
DATE_PUBLISHED DATE,
NUM_VACANCIES INT,
JOB_PLATFORM_ID VARCHAR(10)
);

CREATE TABLE JOB_POSITION
(
JOB_POSITION_ID VARCHAR(10) NOT NULL PRIMARY KEY,
JOB_TITLE VARCHAR(100),
JOB_PURPOSE VARCHAR(100),
JOB_ID VARCHAR(10),
CONSTRAINT JOB_POSITION_FK FOREIGN KEY(JOB_ID) REFERENCES JOB(JOB_ID)
);

CREATE TABLE JOB_CATEGORY
(
JOB_CATEGORY_ID VARCHAR(10) NOT NULL PRIMARY KEY,
JOB_DEPARTMENT VARCHAR(100),
JOB_ID VARCHAR(10),
CONSTRAINT JOB_CATEGORY_FK FOREIGN KEY(JOB_ID) REFERENCES JOB(JOB_ID)
);

CREATE TABLE JOB_PLATFORM
(
JOB_PLATFORM_ID VARCHAR(10) NOT NULL PRIMARY KEY,
JOB_OPENING_MEDIUM VARCHAR(100),
JOB_SEARCHING_LINK VARCHAR(100)
);

CREATE TABLE APPLICANT_DOCUMENT
(
DOCUMENT_ID VARCHAR(10) NOT NULL PRIMARY KEY,
DOCUMENT_TYPE VARCHAR(10),
LAST_UPDATE_STATUS DATE
);

CREATE TABLE APPLICATION_DETAIL
(
APPLICATION_ID VARCHAR(10) NOT NULL PRIMARY KEY,
DATE_APPLICATION DATE,
EDUCATION_LEVEL VARCHAR(10),
EXPERIENCE VARCHAR(10),
SUBMISSION_FREQUENCY INT,
DOCUMENT_ID VARCHAR(10),
JOB_ID VARCHAR(10),
CONSTRAINT APPLICATION_DETAIL_FK1 FOREIGN KEY(JOB_ID) REFERENCES JOB(JOB_ID),
CONSTRAINT APPLICATION_DETAIL_FK2 FOREIGN KEY(DOCUMENT_ID) REFERENCES APPLICANT_DOCUMENT(DOCUMENT_ID)
);

CREATE TABLE APPLICANT_CREDENTIAL
(
CREDENTIAL_ID VARCHAR(10) NOT NULL PRIMARY KEY,
CRIME_RECORD INT,
CREDIT_STATUS VARCHAR(20)
);

CREATE TABLE APPLICANT
(
APPLICANT_ID VARCHAR(10) NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR(20),
LAST_NAME VARCHAR(20),
EMAIL VARCHAR(50),
PHONENUMBER VARCHAR(20),
IC_NO VARCHAR(30),
HOME_ADDRESS VARCHAR(100),
AGE INT,
CREDENTIAL_ID VARCHAR(10),
CONSTRAINT APPLICANT_FK FOREIGN KEY(CREDENTIAL_ID) REFERENCES APPLICANT_CREDENTIAL(CREDENTIAL_ID)
);

CREATE TABLE RESUME
(
APPLICATION_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(APPLICATION_ID) REFERENCES APPLICATION_DETAIL(APPLICATION_ID),
APPLICANT_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(APPLICANT_ID) REFERENCES APPLICANT(APPLICANT_ID),
PRIMARY KEY(APPLICATION_ID,APPLICANT_ID),
RESUME_PURPOSE VARCHAR(100)
);

CREATE TABLE SELECTION_PROCESS
(
SELECTION_ID VARCHAR(10) NOT NULL PRIMARY KEY,
APPOINTMENT_DATE DATE,
CANDIDATE_CATEGORY VARCHAR(30),
JOB_RECRUITER VARCHAR(10),
COMPANY_ID VARCHAR(10),
CONSTRAINT SELECTION_PROCESS_FK FOREIGN KEY(COMPANY_ID) REFERENCES COMPANY(COMPANY_ID)
);

CREATE TABLE APPLICANT_EVALUATION
(
EVALUATION_ID VARCHAR(10) NOT NULL PRIMARY KEY,
OVERVIEW VARCHAR(100),
RATING VARCHAR(5),
APPLICATION_ID VARCHAR(10),
CONSTRAINT APPLICANT_EVALUATION_FK FOREIGN KEY(APPLICATION_ID) REFERENCES APPLICATION_DETAIL(APPLICATION_ID)
);

CREATE TABLE BRANCH
(
SELECTION_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(SELECTION_ID) REFERENCES SELECTION_PROCESS(SELECTION_ID),
EVALUATION_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(EVALUATION_ID) REFERENCES APPLICANT_EVALUATION(EVALUATION_ID),
PRIMARY KEY(SELECTION_ID,EVALUATION_ID),
STATE VARCHAR(20),
MEETING_ROOM_NO VARCHAR(10)
);

CREATE TABLE APPLICATION_TEST
(
TEST_ID VARCHAR(10) NOT NULL PRIMARY KEY,
START_TIME TIME,
END_TIME TIME,
TEST_CATEGORY VARCHAR(20),
SCORE INT,
APPLICATION_ID VARCHAR(10),
CONSTRAINT APPLICATION_TEST_FK FOREIGN KEY(APPLICATION_ID) REFERENCES APPLICATION_DETAIL(APPLICATION_ID)
);

CREATE TABLE INTERVIEW
(
SELECTION_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(SELECTION_ID) REFERENCES SELECTION_PROCESS(SELECTION_ID),
TEST_ID VARCHAR(10) NOT NULL,
FOREIGN KEY(TEST_ID) REFERENCES APPLICATION_TEST(TEST_ID),
PRIMARY KEY(SELECTION_ID,TEST_ID),
APPOINTMENT_TIME TIME,
QUESTION VARCHAR(100)
);

CREATE TABLE TEST_RESULT
(
RESULT_ID VARCHAR(10) NOT NULL PRIMARY KEY,
KNOWLEDGE_GRADES VARCHAR(10),
PRACTICAL_GRADES VARCHAR(10),
ATTITUDE_GRADES VARCHAR(10),
OVERALL_GRADES VARCHAR(10),
TEST_ID VARCHAR(10),
CONSTRAINT TEST_RESULT_FK FOREIGN KEY(TEST_ID) REFERENCES APPLICATION_TEST(TEST_ID)
);

CREATE TABLE INTERVIEW_DECISION
(
DECISION_ID VARCHAR(10) NOT NULL PRIMARY KEY,
HIRED_DECISION VARCHAR(10),
PASS_STATUS VARCHAR(10),
SELECTION_ID VARCHAR(10),
RESULT_ID VARCHAR(10),
CONSTRAINT INTERVIEW_DECISION_FK1 FOREIGN KEY(SELECTION_ID) REFERENCES SELECTION_PROCESS(SELECTION_ID),
CONSTRAINT INTERVIEW_DECISION_FK2 FOREIGN KEY(RESULT_ID) REFERENCES TEST_RESULT(RESULT_ID)
);